<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Rápida - Sistema de Paginación</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid p-4">
        <h1 class="mb-4">🧪 Prueba Rápida - Sistema de Paginación</h1>
        
        <!-- Test de Usuarios -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>Test - Sección Usuarios</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped" id="usuariosTable">
                        <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6" class="text-center">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Cargando usuarios...</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination info for usuarios -->
                <div id="usuariosPaginationInfo" class="pagination-info-container d-flex justify-content-between align-items-center mb-3" style="display: none;">
                    <div class="d-flex align-items-center">
                        <span class="text-muted me-3">
                            Mostrando <span id="usuariosShowing">0</span> de <span id="usuariosTotal">0</span> usuarios
                        </span>
                        <div class="d-flex align-items-center">
                            <label class="form-label me-2 mb-0 text-muted" for="usuariosItemsPerPage">
                                Mostrar:
                            </label>
                            <select class="form-select form-select-sm pagination-select" id="usuariosItemsPerPage" style="width: auto; z-index: 1050;" onchange="changeItemsPerPageAdmin('usuarios', this.value)">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            <span class="text-muted ms-2">por página</span>
                        </div>
                    </div>
                    <div class="text-muted">
                        Página <span id="usuariosCurrentPage">1</span> de <span id="usuariosTotalPages">1</span>
                    </div>
                </div>
                
                <!-- Pagination controls for usuarios -->
                <div id="usuariosPagination" class="d-flex justify-content-center" style="display: none;">
                    <!-- Pagination buttons generated dynamically -->
                </div>
                
                <button class="btn btn-primary mt-3" onclick="initializePaginationAdmin('usuarios')">
                    🔄 Inicializar Paginación Usuarios
                </button>
            </div>
        </div>

        <!-- Test de FAQs -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>Test - Sección FAQs</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="faqsTable">
                        <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Pregunta</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="3" class="text-center">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Cargando FAQs...</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination info for faqs -->
                <div id="faqsPaginationInfo" class="pagination-info-container d-flex justify-content-between align-items-center mb-3" style="display: none;">
                    <div class="d-flex align-items-center">
                        <span class="text-muted me-3">
                            Mostrando <span id="faqsShowing">0</span> de <span id="faqsTotal">0</span> preguntas frecuentes
                        </span>
                        <div class="d-flex align-items-center">
                            <label class="form-label me-2 mb-0 text-muted" for="faqsItemsPerPage">
                                Mostrar:
                            </label>
                            <select class="form-select form-select-sm pagination-select" id="faqsItemsPerPage" style="width: auto; z-index: 1050;" onchange="changeItemsPerPageAdmin('faqs', this.value)">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            <span class="text-muted ms-2">por página</span>
                        </div>
                    </div>
                    <div class="text-muted">
                        Página <span id="faqsCurrentPage">1</span> de <span id="faqsTotalPages">1</span>
                    </div>
                </div>
                
                <!-- Pagination controls for faqs -->
                <div id="faqsPagination" class="d-flex justify-content-center" style="display: none;">
                    <!-- Pagination buttons generated dynamically -->
                </div>
                
                <button class="btn btn-success mt-3" onclick="initializePaginationAdmin('faqs')">
                    🔄 Inicializar Paginación FAQs
                </button>
            </div>
        </div>

        <!-- Test de Reportes -->
        <div class="card mb-4">
            <div class="card-header">
                <h5>Test - Sección Reportes</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover" id="reportesTable">
                        <thead class="table-dark">
                            <tr>
                                <th>ID</th>
                                <th>Tipo</th>
                                <th>Fecha Generación</th>
                                <th>Estado</th>
                                <th>Tamaño</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="6" class="text-center">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Cargando reportes...</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination info for reportes -->
                <div id="reportesPaginationInfo" class="pagination-info-container d-flex justify-content-between align-items-center mb-3" style="display: none;">
                    <div class="d-flex align-items-center">
                        <span class="text-muted me-3">
                            Mostrando <span id="reportesShowing">0</span> de <span id="reportesTotal">0</span> reportes
                        </span>
                        <div class="d-flex align-items-center">
                            <label class="form-label me-2 mb-0 text-muted" for="reportesItemsPerPage">
                                Mostrar:
                            </label>
                            <select class="form-select form-select-sm pagination-select" id="reportesItemsPerPage" style="width: auto; z-index: 1050;" onchange="changeItemsPerPageAdmin('reportes', this.value)">
                                <option value="5">5</option>
                                <option value="10" selected>10</option>
                                <option value="25">25</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            <span class="text-muted ms-2">por página</span>
                        </div>
                    </div>
                    <div class="text-muted">
                        Página <span id="reportesCurrentPage">1</span> de <span id="reportesTotalPages">1</span>
                    </div>
                </div>
                
                <!-- Pagination controls for reportes -->
                <div id="reportesPagination" class="d-flex justify-content-center" style="display: none;">
                    <!-- Pagination buttons generated dynamically -->
                </div>
                
                <button class="btn btn-info mt-3" onclick="initializePaginationAdmin('reportes')">
                    🔄 Inicializar Paginación Reportes
                </button>
            </div>
        </div>

        <!-- Resumen del Test -->
        <div class="card">
            <div class="card-header">
                <h5>📊 Resumen del Sistema</h5>
            </div>
            <div class="card-body">
                <button class="btn btn-warning" onclick="testAllSections()">
                    🧪 Probar Todas las Secciones
                </button>
                <button class="btn btn-secondary ms-2" onclick="showSystemInfo()">
                    ℹ️ Info del Sistema
                </button>
                <div id="testResults" class="mt-3"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/pagination-system.js"></script>
    <script>
        function showSystemInfo() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<h6>Estado del Sistema:</h6>';
            
            if (typeof window.paginationModules === 'object') {
                results.innerHTML += '<div class="alert alert-success">✓ Sistema de paginación cargado</div>';
                results.innerHTML += `<div class="alert alert-info">Secciones disponibles: ${Object.keys(window.paginationModules).join(', ')}</div>`;
            } else {
                results.innerHTML += '<div class="alert alert-danger">✗ Sistema de paginación NO cargado</div>';
            }
        }

        function testAllSections() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<h6>Probando todas las secciones:</h6>';
            
            const sections = ['inventario', 'sedes', 'categorias', 'proveedores', 'usuarios', 'citas', 'evaluaciones', 'faqs', 'reportes', 'pagos'];
            let successCount = 0;
            
            sections.forEach(section => {
                try {
                    if (window.paginationModules && window.paginationModules[section]) {
                        const testData = window.paginationModules[section].testData;
                        results.innerHTML += `<div class="alert alert-success alert-sm">✓ ${section}: ${testData ? testData.length : 0} items de prueba</div>`;
                        successCount++;
                    } else {
                        results.innerHTML += `<div class="alert alert-warning alert-sm">⚠ ${section}: No configurado</div>`;
                    }
                } catch (error) {
                    results.innerHTML += `<div class="alert alert-danger alert-sm">✗ ${section}: Error - ${error.message}</div>`;
                }
            });
            
            results.innerHTML += `<div class="alert alert-primary">Resumen: ${successCount}/${sections.length} secciones funcionando</div>`;
        }

        // Auto-mostrar info al cargar
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(showSystemInfo, 500);
        });
    </script>
</body>
</html>